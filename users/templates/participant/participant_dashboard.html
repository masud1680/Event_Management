{% extends "base.html" %} 
{% load static %} 
{% block title %}Participant | Dashboard{% endblock title %} 
{% block content %}
<link rel="stylesheet" href="{% static 'src/style.css' %}" />
<!-- connect script.js -->
<script src="{% static 'js/script.js' %}"></script>

<div
  class="dark:text-white w-full mx-auto loopple-min-height-78vh text-slate-500 "
>
  <div class="flex flex-wrap -mx-3 mb-5 removable">
    <div class="w-full max-w-full px-3 mb-6 lg:w-8/12 sm:flex-none xl:mb-0">
      <div
        class="dark:bg-gray-600  relative flex flex-col break-words min-w-0 bg-clip-border rounded-xl bg-neutral-700 mb-5"
      >
        <!-- card body  -->
        <div class="rounded-md flex-auto block py-8 px-9">
          <div class="m-0 z-20 relative">
            <div id="user-full-name" class="relative z-20 text-3xl font-semibold text-white w-3/4">
              {{user.first_name}} {{user.last_name}}
            </div>
            <p class="mb-7 text-white">We are happy to see you again.</p>
            <div class="flex flex-col gap-2 xl:gap-4 sm:flex-row">
              <a
                href="{% url 'participant-dashboard'%}"
                class="dark:bg-gray-700 dark:hover:bg-gray-500 shrink-0 inline-block text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-[.95rem] transition-colors duration-150 ease-in-out text-dark bg-white border-white shadow-none [border:_0] px-5 py-3.5 hover:bg-white/90 active:bg-white focus:bg-white"
                >My Events</a
              >
              <a
                href="javascript:void(0)"
                class="inline-block shrink-0 text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-[.95rem] transition-colors duration-150 ease-in-out text-white bg-white/[.15] shadow-none [border:_0] px-5 py-3.5 hover:bg-white/25 active:bg-white/25 focus:bg-white/25"
                >What's new</a
              >
            </div>
          </div>
          <img
            src="#"
            class="bottom-0 absolute mr-3 end-0 h-[200px] opacity-40 z-10"
            alt=""
          />
        </div>
      </div>
    </div>

    <!--small bar-->

    <div class="w-full max-w-full px-3 mb-6 lg:w-4/12 sm:flex-none xl:mb-0">
      <div
        class=" dark:bg-gray-700 relative flex flex-col min-w-0 break-words bg-white border border-dashed bg-clip-border rounded-2xl border-stone-400 bg-light/30  mb-5"
      >
        <!-- card header -->
        <div
          class="px-9 pt-5 flex justify-between items-stretch flex-wrap min-h-[70px] pb-0 bg-transparent"
        >
          <div
            class="flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/normal text-dark"
          >
            <!--begin::Amount-->
            <span
              class="text-dark text-5xl/none font-semibold mr-2 tracking-[-0.115rem]"
              >11</span
            >
            <!--end::Amount-->

            <!--begin::Subtitle-->
            <span class="pt-1 font-medium text-dark text-lg/normal"
              >Event Completed</span
            >
            <!--end::Subtitle-->
          </div>
        </div>
        <!-- card body  -->
        <div class="flex items-end flex-auto py-8 pt-0 px-9">
          <!--begin::Progress-->
          <div class="flex flex-col items-center w-full mt-3">
            <div
              class="flex justify-between w-full mt-auto mb-2 font-semibold text-dark text-lg/normal"
            >
              <span class="mr-4 text-dark">15 Pending</span>
              <span>85%</span>
            </div>

            <div class="mx-3 rounded-2xl h-[8px] w-full bg-white">
              <div class="rounded-2xl bg-dark w-[85%] h-[8px]"></div>
            </div>
          </div>
          <!--end::Progress-->
        </div>
        <!-- end card body  -->
      </div>
      <!-- end card body  -->
    </div>
  </div>
</div>

{% for message in messages %}


    <div
      class="mx-auto my-5 px-3 py-2 rounded-md flex justify-center items-center text-2xl text-amber-50 {% if message.tags == 'warning' %} bg-red-400 {% elif message.tags == 'success' %} bg-sky-400{% endif %}"
    >
      {{message}} {% if query %} [ {{query}} ]{% endif %}
    </div>


{% endfor %}

<!--List start-->
<div class="dark:text-white">
  <h3 class="font-bold mb-4 text-2xl">Events</h3>

  <div id="my-event">
    <!--First List-->

    <div
      class="dark:bg-gray-600 bg-white  relative flex flex-col min-w-0 break-words border border-dashed bg-clip-border rounded-2xl border-stone-400 bg-light/30 mb-5"
    >
      <!-- card header -->
      <div
        class="px-9 pt-5 flex justify-between items-stretch flex-wrap min-h-[70px] pb-0 bg-transparent"
      >
        <h3
          class="flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"
        >
          <span class="mr-3 font-semibold text-dark">My Events</span>
          <span class="mt-1 font-medium text-secondary-dark text-lg/normal"
            >Check all events available</span
          >
        </h3>
        <div id="my-events" class="relative flex flex-wrap items-center my-2">
          <a
            href="javascript:void(0)"
            class="inline-block text-[.925rem] font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-150 ease-in-out text-light-inverse bg-light-dark border-light shadow-none border-0 py-2 px-5 hover:bg-secondary active:bg-light focus:bg-light"
            >See all events</a
          >
        </div>
      </div>
      <!-- end card header -->
      <!-- card body  -->
      <div class="flex-auto block py-8 pt-6 px-9">
        <div class="overflow-x-auto">
          <table class="w-full my-0 align-middle text-dark border-neutral-200">
            <thead class="align-bottom">
              <tr class="font-semibold text-[0.95rem] text-secondary-dark">
                <th class="pb-3 text-start min-w-[175px]">EVENT</th>
                <th class="pb-3 text-end min-w-[100px]">CATEGORY</th>
                <th class="pb-3 text-end min-w-[100px]">LOCATION</th>
                <th class="pb-3 pr-12 text-end min-w-[175px]">TIME</th>
                <th class="pb-3 pr-12 text-end min-w-[100px]">DEADLINE</th>
                <th class="pb-3 text-end min-w-[50px]">ACTION</th>
              </tr>
            </thead>
            <tbody>
              {% for event in my_events %}

              <tr
                class="items-center justify-center border-b border-dashed last:border-b-0"
              >
                <td class="p-3 pl-0">
                  <div class="flex items-center">
                    <div
                      class="relative inline-block shrink-0 rounded-2xl me-3"
                    >
                      <img
                        src="{{event.Easset.url}}"
                        class="w-[50px] h-[50px] inline-block shrink-0 rounded-2xl"
                        alt=""
                      />
                    </div>
                    <div class="flex flex-col justify-start">
                      <a
                        href="{% url 'event-details' event.id%}"
                        class="mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-primary"
                      >
                        {{event.title | truncatechars:50}}
                      </a>
                    </div>
                  </div>
                </td>
                <td class="p-3 pr-0 text-end">
                  <span class="font-semibold text-light-inverse text-md/normal"
                    >{{event.category.name | truncatechars:20}}</span
                  >
                </td>
                <td class="p-3 pr-0 text-end">
                  <span
                    class="text-center align-baseline inline-flex px-4 py-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-primary bg-primary-light rounded-lg"
                  >
                    {{event.location}}
                  </span>
                </td>

                <td class="p-0 text-end">
                  <span
                    class="text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none text-success bg-success-light rounded-lg"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-5 h-5 mr-1"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
                      ></path></svg
                    >{{event.time}}</span
                  >
                </td>

                <td class="pr-0 text-center">
                  <span class="font-semibold text-light-inverse text-md/normal"
                    >{{event.date}}</span
                  >
                </td>
<td class="p-3 pr-0 text-end">
                 

        
                                  <a href="{% url 'site-maintenance' %}">
                    <button
                      class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-green-400 to-blue-600 group-hover:from-green-400 group-hover:to-blue-600 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800"
                    >
                      <span
                        class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent"
                      >
                        Cancle
                      </span>
                    </button>
                  </a>

       

                </td>
              </tr>

              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!--Second List-->
  <div id="all-event">
    <div
      class="dark:bg-gray-600 bg-white relative flex flex-col min-w-0 break-words border border-dashed bg-clip-border rounded-2xl border-stone-400 bg-light/30 mb-5"
    >
      <!-- card header -->
      <div
        class="px-9 pt-5 flex justify-between items-stretch flex-wrap min-h-[70px] pb-0 bg-transparent"
      >
        <h3
          class="flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"
        >
          <span class="mr-3 font-semibold text-dark">All Events</span>
          <span class="mt-1 font-medium text-secondary-dark text-lg/normal"
            >Check all events available</span
          >
        </h3>
        <div id="all-events" class="relative flex flex-wrap items-center my-2">
          <a
            href="javascript:void(0)"
            class="inline-block text-[.925rem] font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-150 ease-in-out text-light-inverse bg-light-dark border-light shadow-none border-0 py-2 px-5 hover:bg-secondary active:bg-light focus:bg-light"
            >See my events</a
          >
        </div>
      </div>
      <!-- end card header -->
      <!-- card body  -->
      <div class="flex-auto block py-8 pt-6 px-9">
        <div class="overflow-x-auto">
          <table class="w-full my-0 align-middle text-dark border-neutral-200">
            <thead class="align-bottom">
              <tr class="font-semibold text-[0.95rem] text-secondary-dark">
                <th class="pb-3 text-start min-w-[175px]">EVENT</th>
                <th class="pb-3 text-end min-w-[100px]">CATEGORY</th>
                <th class="pb-3 text-end min-w-[100px]">LOCATION</th>
                <th class="pb-3 pr-12 text-end min-w-[175px]">TIME</th>
                <th class="pb-3 pr-12 text-end min-w-[100px]">DEADLINE</th>
                <th class="pb-3 text-end min-w-[50px]">ACTION</th>
              </tr>
            </thead>
            <tbody>
              {% for event in all_events %}

              <tr class="border-b border-dashed last:border-b-0">
                <td class="p-3 pl-0">
                  <div class="flex items-center">
                    <div
                      class="relative inline-block shrink-0 rounded-2xl me-3"
                    >
                      <img
                        src="{{event.Easset.url}}"
                        class="w-[50px] h-[50px] inline-block shrink-0 rounded-2xl"
                        alt=""
                      />
                    </div>
                    <div class="flex flex-col justify-start">
                      <a
                        href="{% url 'event-details' event.id%}"
                        class="mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-primary"
                      >
                        {{event.title | truncatechars:50}}
                      </a>
                    </div>
                  </div>
                </td>
                <td class="p-3 pr-0 text-end">
                  <span class="font-semibold text-light-inverse text-md/normal"
                    >{{event.category.name | truncatechars:20 }}</span
                  >
                </td>
                <td class="p-3 pr-0 text-end">
                  <span
                    class="text-center align-baseline inline-flex px-4 py-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-primary bg-primary-light rounded-lg"
                  >
                    {{event.location}}
                  </span>
                </td>

                <td class="text-center">
                  <span
                    class="text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none text-success bg-success-light rounded-lg"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-5 h-5 mr-1"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
                      ></path></svg
                    >{{event.time}}</span
                  >
                </td>

                <td class="pr-0 text-start">
                  <span class="font-semibold text-light-inverse text-md/normal"
                    >{{event.date}}</span
                  >
                </td>

                  <td class="p-3 pr-0 text-end">

                  <a href="{% url 'register-event' user.id event.id %}">
                    <button
                      class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-green-400 to-blue-600 group-hover:from-green-400 group-hover:to-blue-600 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800"
                    >
                      <span
                        class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent"
                      >
                        RSVP
                      </span>
                    </button>
                  </a>

                </td>

                

              </tr>

            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>

{% endblock content %}
