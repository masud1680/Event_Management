{% extends "base.html" %} 
{% block title %}Profile | Edit{% endblock title %} 

{% load static %} 

{% block content %}

     
    <div class='mx-auto w-1/2 my-9'>
        {% if messages %}
            {% for message in messages %}
                <div class="px-2 py-1 {% if message.tags == 'success' %}bg-green-500{% endif %} ">{{message}}</div>
            {% endfor %}
        {% endif %}
        <form method='POST' enctype='multipart/form-data'>
            {% csrf_token %}
            {{ form }}
            <button class='bg-blue-500 px-2 py-1 rounded text-white mt-3' type="submit">Save</button>
        </form>
    </div>

        

{% endblock content %}





<!-- Profile edit form -->
        <section id="profileEdit" class="content-section" data-aos="fade-up">
          <form
            id="patientProfileForm"
            class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl shadow-xl rounded-2xl p-8 grid gap-8 grid-cols-1 md:grid-cols-3 transition-all duration-300"
          >
            <!-- Left: avatar -->
            <section
              class="md:col-span-1 flex flex-col items-center gap-6 p-6 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 dark:from-indigo-700/20 dark:to-purple-700/20 rounded-2xl shadow-lg border border-white/10"
            >
              <div class="relative w-36 h-36 sm:w-40 sm:h-40">
                <img
                  id="avatarPreview"
                  src="https://placehold.co/150x150?text=Avatar"
                  alt="avatar"
                  class="w-full h-full rounded-full object-cover border-4 border-white shadow-md"
                />
                <label
                  for="avatarInput"
                  class="absolute bottom-2 right-2 bg-indigo-600 text-white rounded-full p-2 shadow-md cursor-pointer no-print hover:bg-indigo-700 transition"
                  title="Change avatar"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9.414A2 2 0 0016.414 8L12 3.586A2 2 0 0010.586 3H4z"
                    />
                  </svg>
                </label>
                <input
                  id="avatarInput"
                  class="avatar-input"
                  type="file"
                  accept="image/*"
                />
              </div>
              <div class="text-center text-sm text-gray-600 dark:text-gray-300">
                Accepted: JPG, PNG. Max 2MB
              </div>
              <div class="text-center">
                <p
                  id="editProfileName"
                  class="text-xl font-semibold text-gray-800 dark:text-gray-100"
                >
                  Null
                </p>
                <p
                  id="editProfileBloodGroup1"
                  class="text-sm text-gray-500 dark:text-gray-300"
                >
                  Null
                </p>
              </div>
            </section>

            <!-- Right: fields -->
            <section class="md:col-span-2 grid gap-4">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label class="text-sm font-medium">Fast name</label>
                  <input
                    name="full_name"
                    id="editProfileFastName"
                    required
                    class="dark:text-black mt-1 block w-1/2 rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder=" Dr. "
                  />
                </div>
                <div>
                  <label class="text-sm font-medium">Last name</label>
                  <input
                    name="full_name"
                    id="editProfileLastName"
                    required
                    class="dark:text-black mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="Masud"
                  />
                </div>
                <div>
                  <label class="text-sm font-medium">Email</label>
                  <input
                    type="email"
                    name="email"
                    id="editProfileEmail"
                    required
                    class="dark:text-black mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="you@example.com"
                  />
                </div>
                <div>
                  <label class="text-sm font-medium">Phone</label>
                  <input
                    required
                    name="phone"
                    id="editProfilePhone"
                    class="dark:text-black mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="+8801..."
                  />
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                {% comment %}
                <div>
                  <label class="text-sm font-medium">Blood Group</label>
                  <input
                    name="specialization"
                    id="editProfileBloodGroup2"
                    class="mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="e.g. Cardiologist"
                  />
                </div>
                {% endcomment %}
                <div>
                  <label
                    for="editProfileBloodGroup02"
                    class="block dark:text-white text-gray-700 font-semibold mb-2"
                    >Blood Group</label
                  >
                  <select
                    required
                    id="editProfileBloodGroup2"
                    name="editProfileBloodGroup02"
                    class="w-full border border-gray-300 rounded-lg px-3 py-2 dark:text-black text-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                  >
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                  </select>
                </div>

                {% comment %}
                <div>
                  <label class="text-sm font-medium">Pescription Status</label>
                  <input
                    name="availability"
                    id="editProfilePescriptionStatus"
                    class="mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="Mon-Fri, 9am - 5pm"
                  />
                </div>

                {% endcomment %}
                <div>
                  <label
                    for="editProfilePescriptionStatusv"
                    class="block dark:text-white text-gray-700 font-semibold mb-2"
                    >Pescription Status</label
                  >
                  <select
                    id="editProfilePescriptionStatus"
                    name="editProfilePescriptionStatusv"
                    class="dark:text-black w-full border border-gray-300 rounded-lg px-3 py-2 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                  >
                    <option value="true" selected>True</option>
                    <option value="false">False</option>
                  </select>
                </div>

                <div>
                  <label
                    for="editProfileGenderv"
                    class="block dark:text-white text-gray-700 font-semibold mb-2"
                    >Gender</label
                  >
                  <select
                    required
                    id="editProfileGender"
                    name="editProfileGenderv"
                    class="dark:text-black w-full border border-gray-300 rounded-lg px-3 py-2 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                  >
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                  </select>
                </div>

                <div>
                  <label class="text-sm font-medium">Age</label>
                  <input
                    required
                    name="age"
                    id="editProfileAge"
                    class="dark:text-black mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                    placeholder="18"
                  />
                </div>
              </div>

              <div>
                <label class="text-sm font-medium">Address</label>
                <input
                  name="address"
                  id="editProfileAddress"
                  class="dark:text-black mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                  placeholder="Street, City, Country"
                />
              </div>

              <div>
                <label class="text-sm font-medium">Short bio</label>
                <textarea
                  name="bio"
                  id="editProfileShortBio"
                  rows="4"
                  class="mt-1 block w-full rounded-md border-gray-200 dark:text-black dark:border-gray-600 shadow-sm focus:ring-2 focus:ring-indigo-200 p-2"
                  placeholder="Type your bio..."
                ></textarea>
              </div>

              <input
                id="editProfileUser_id"
                hidden
                value="{{request.user.id}}"
              />
              <div class="flex gap-3 justify-end mt-2 no-print">
                <a href="#" data-section="profileView" class="sidebar-link">
                  <button
                    type="button"
                    id="cancelBtn"
                    class="px-4 py-2 rounded-md border border-gray-300"
                  >
                    Cancel
                  </button>
                  <button
                    onclick="createOrUpdate()"
                    type="submit"
                    id="saveBtn"
                    class="px-5 py-2 rounded-md bg-indigo-600 text-white"
                  >
                    Save
                  </button>
                </a>
              </div>
            </section>
          </form>
        </section>

        <!--++++++++++ using for profile update close-->